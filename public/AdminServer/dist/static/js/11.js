webpackJsonp([11],{"6ETp":function(t,e,a){var i=a("6xz1");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("6dd10e50",i,!0,{})},"6xz1":function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,".project-top[data-v-983cf2a0]{margin-bottom:20px;margin-top:20px}.avatar-uploader .el-upload[data-v-983cf2a0]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-983cf2a0]:hover{border-color:#409eff}.avatar-uploader-icon[data-v-983cf2a0]{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar[data-v-983cf2a0]{width:100%;height:230px;display:block}.el-radio-group .el-radio+.el-radio[data-v-983cf2a0]{margin-left:0!important}.pages[data-v-983cf2a0]{margin-top:0!important;margin-bottom:80px!important}.el-breadcrumb[data-v-983cf2a0]{z-index:10!important}.el-carousel__item h3[data-v-983cf2a0]{color:#475669;font-size:18px;opacity:.75;line-height:300px;margin:0}.el-carousel__item[data-v-983cf2a0]:nth-child(2n){background-color:#99a9bf}.el-carousel__item[data-v-983cf2a0]:nth-child(odd){background-color:#d3dce6}[data-v-983cf2a0] .preview-class img{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}[data-v-983cf2a0] .preview-class video{width:100%;height:70vh}[data-v-983cf2a0] .preview-class .el-dialog__headerbtn{z-index:1000;color:#030303}[data-v-983cf2a0] .preview-class .el-dialog__headerbtn .el-dialog__close{color:#030303;font-size:20px;font-weight:900}[data-v-983cf2a0] .preview-class .el-dialog__header{padding:0!important}[data-v-983cf2a0] .preview-class .el-dialog__body{padding:0}","",{version:3,sources:["/Users/qinlinhui/Sites/WWW/Swanlake/public/AdminServer/src/pages/Grid/positions.vue"],names:[],mappings:"AACA,8BAA8B,mBAAmB,eAAe,CAC/D,AACD,6CAA6C,0BAA0B,kBAAkB,eAAe,kBAAkB,eAAe,CACxI,AACD,mDAAmD,oBAAoB,CACtE,AACD,uCAAuC,eAAe,cAAc,YAAY,aAAa,kBAAkB,iBAAiB,CAC/H,AACD,yBAAyB,WAAW,aAAa,aAAa,CAC7D,AACD,qDAAqD,uBAAwB,CAC5E,AACD,wBAAwB,uBAAwB,4BAA6B,CAC5E,AACD,gCAAgC,oBAAqB,CACpD,AACD,uCAAuC,cAAc,eAAe,YAAa,kBAAkB,QAAQ,CAC1G,AACD,kDAAkD,wBAAwB,CACzE,AACD,mDAAoD,wBAAwB,CAC3E,AACD,qCAAqC,WAAW,YAAY,sBAAsB,kBAAkB,CACnG,AACD,uCAAuC,WAAW,WAAW,CAC5D,AACD,uDAAuD,aAAa,aAAa,CAChF,AACD,yEAAyE,cAAc,eAAe,eAAe,CACpH,AACD,oDAAoD,mBAAoB,CACvE,AACD,kDAAkD,SAAS,CAC1D",file:"positions.vue",sourcesContent:["\n.project-top[data-v-983cf2a0]{margin-bottom:20px;margin-top:20px\n}\n.avatar-uploader .el-upload[data-v-983cf2a0]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden\n}\n.avatar-uploader .el-upload[data-v-983cf2a0]:hover{border-color:#409EFF\n}\n.avatar-uploader-icon[data-v-983cf2a0]{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center\n}\n.avatar[data-v-983cf2a0]{width:100%;height:230px;display:block\n}\n.el-radio-group .el-radio+.el-radio[data-v-983cf2a0]{margin-left:0 !important\n}\n.pages[data-v-983cf2a0]{margin-top:0 !important;margin-bottom:80px !important\n}\n.el-breadcrumb[data-v-983cf2a0]{z-index:10 !important\n}\n.el-carousel__item h3[data-v-983cf2a0]{color:#475669;font-size:18px;opacity:0.75;line-height:300px;margin:0\n}\n.el-carousel__item[data-v-983cf2a0]:nth-child(2n){background-color:#99a9bf\n}\n.el-carousel__item[data-v-983cf2a0]:nth-child(2n+1){background-color:#d3dce6\n}\n[data-v-983cf2a0] .preview-class img{width:100%;height:100%;-o-object-fit:contain;object-fit:contain\n}\n[data-v-983cf2a0] .preview-class video{width:100%;height:70vh\n}\n[data-v-983cf2a0] .preview-class .el-dialog__headerbtn{z-index:1000;color:#030303\n}\n[data-v-983cf2a0] .preview-class .el-dialog__headerbtn .el-dialog__close{color:#030303;font-size:20px;font-weight:900\n}\n[data-v-983cf2a0] .preview-class .el-dialog__header{padding:0 !important\n}\n[data-v-983cf2a0] .preview-class .el-dialog__body{padding:0\n}\n"],sourceRoot:""}])},AO5d:function(t,e,a){"use strict";e.a={props:["total","pageSize","currPage"],data:function(){return{}},methods:{handleSizeChange:function(t){this.$emit("changeLimit",t)},handleCurrentChange:function(t){this.$emit("changeSkip",t)}}}},Eqnc:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("div",{staticClass:"grid-content"},[a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.currPage,"page-sizes":[10,20,30,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])},n=[],o={render:i,staticRenderFns:n};e.a=o},NL1e:function(t,e,a){"use strict";function i(t){a("6ETp")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("uh9Q"),o=a("h/3+"),r=a("VU/8"),s=i,l=r(n.a,o.a,!1,s,"data-v-983cf2a0",null);e.default=l.exports},TZN5:function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,".pagination[data-v-385880eb]{float:right}","",{version:3,sources:["/Users/qinlinhui/Sites/WWW/Swanlake/public/AdminServer/src/components/Page.vue"],names:[],mappings:"AACA,6BACE,WAAa,CACd",file:"Page.vue",sourcesContent:["\n.pagination[data-v-385880eb]{\n  float: right;\n}\n"],sourceRoot:""}])},"h/3+":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:""}},[t._v("SIG持仓管理")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:""}},[t._v("数据统计")])],1),t._v(" "),a("div",{staticClass:"project-top"},[a("el-select",{attrs:{placeholder:"选择要搜索的账户"},on:{change:t.accountChange},model:{value:t.account_id,callback:function(e){t.account_id=e},expression:"account_id"}},t._l(t.accountList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.tabClick}},[a("el-tab-pane",{attrs:{label:"当前持仓"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.currentLoading,expression:"currentLoading"}],staticStyle:{width:"100%"},attrs:{data:t.currentPositionsList}},[a("el-table-column",{attrs:{prop:"symbol",label:"交易品种",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"side",label:"持仓方向",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["long"===e.row.side?a("span",[t._v("开多")]):"short"===e.row.side?a("span",[t._v("开空")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"持仓量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.contracts)+" 张")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.keepDecimalNotRounding(e.row.contracts*e.row.contractSize*e.row.markPrice,2,!0))+" USDT")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"标记价格",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.keepDecimalNotRounding(e.row.markPrice,2,!0)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开仓均价",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.keepDecimalNotRounding(e.row.entryPrice,2,!0)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"浮动收益",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.keepDecimalNotRounding(e.row.unrealizedPnl,2,!0)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"维持保证金率",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.keepDecimalNotRounding(100*e.row.maintenanceMarginPercentage,2,!0))+"%")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"保证金",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.keepDecimalNotRounding(e.row.collateral,2,!0))+" USDT")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"盈亏平衡价",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.keepDecimalNotRounding(e.row.entryPrice+e.row.unrealizedPnl/e.row.contracts,2,!0))+" USDT")])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"历史持仓"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.historyLoading,expression:"historyLoading"}],staticStyle:{width:"100%"},attrs:{data:t.positionsHistoryList}},[a("el-table-column",{attrs:{prop:"symbol",label:"交易品种",align:"left",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.symbol))]),t._v(" "),a("br"),t._v(" "),"cross"===e.row.info.mgnMode?a("span",[t._v("全仓")]):t._e(),t._v(" "),"isolated"===e.row.info.mgnMode?a("span",[t._v("逐仓")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"仓位状态",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.info.type?a("span",{staticStyle:{color:"#05C48E"}},[t._v("部分平仓")]):"2"===e.row.info.type?a("span",{staticStyle:{color:"#df473d"}},[t._v("完全平仓")]):"3"===e.row.info.type?a("span",{staticStyle:{color:"#df473d"}},[t._v("强平")]):"4"===e.row.info.type?a("span",{staticStyle:{color:"#df473d"}},[t._v("强减")]):"5"===e.row.info.type?a("span",{staticStyle:{color:"#df473d"}},[t._v("ADL自动减仓")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"side",label:"交易方向",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.info?a("div",["long"===e.row.info.direction&&"long"===e.row.info.posSide?a("span",{staticStyle:{color:"#05C48E"}},[t._v("买入开多")]):"long"===e.row.info.direction&&"short"===e.row.info.posSide?a("span",{staticStyle:{color:"#05C48E"}},[t._v("买入平空")]):"short"===e.row.info.direction&&"long"===e.row.info.posSide?a("span",{staticStyle:{color:"#df473d"}},[t._v("卖出平多")]):"short"===e.row.info.direction&&"short"===e.row.info.posSide?a("span",{staticStyle:{color:"#df473d"}},[t._v("卖出开空")]):a("span",{staticStyle:{color:"#df473d"}},[t._v("卖出")])]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开仓均价 | 平仓均价 USDT",align:"left",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.keepDecimalNotRounding(e.row.entryPrice,2,!0)))]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.keepDecimalNotRounding(e.row.lastPrice,2,!0)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"收益 USDT | 收益率",align:"left",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#25a750"}},[t._v("\n                "+t._s(t.keepDecimalNotRounding(e.row.realizedPnl,2,!0))+"\n                "),a("br"),t._v("\n                "+t._s(t.keepDecimalNotRounding(e.row.realizedPnl/(e.row.contractSize*e.row.entryPrice)*100,2,!0))+"%\n              ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"最大持仓量 | 已平仓量",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.info.openMaxPos)+" 张")]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(e.row.info.closeTotalPos)+" 张")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"hedged",label:"利润(USDT)",align:"left",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["long"===e.row.info.posSide?a("span",[t._v(t._s(t.keepDecimalNotRounding(e.row.lastPrice-e.row.entryPrice,2,!0)))]):"short"===e.row.info.posSide?a("span",[t._v(t._s(t.keepDecimalNotRounding(e.row.entryPrice-e.row.lastPrice,2,!0)))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"open_time",label:"开仓时间",align:"left",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.timestampToTime(e.row.info.cTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"close_time",label:"平仓时间",align:"left",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.timestampToTime(e.row.info.uTime)))])]}}])})],1),t._v(" "),a("el-row",{staticClass:"pages"},[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{float:"right"}},[a("wbc-page",{attrs:{total:t.total,pageSize:t.pageSize,currPage:t.currPage},on:{changeLimit:t.limitPaging,changeSkip:t.skipPaging}})],1)])],1)],1)],1)],1)},n=[],o={render:i,staticRenderFns:n};e.a=o},kQ9O:function(t,e,a){var i=a("TZN5");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("6a9f0435",i,!0,{})},pMNZ:function(t,e,a){"use strict";function i(t){a("kQ9O")}var n=a("AO5d"),o=a("Eqnc"),r=a("VU/8"),s=i,l=r(n.a,o.a,!1,s,"data-v-385880eb",null);e.a=l.exports},uh9Q:function(t,e,a){"use strict";var i=a("pMNZ"),n=a("+zHA");e.a={data:function(){return{account_id:1,inst_id:"BTC-USDT-SWAP",currPage:1,pageSize:100,total:100,PageSearchWhere:[],positionsHistoryList:[],historyLoading:!1,currentPositionsList:[],currentLoading:!1,accountList:[]}},methods:{tabClick:function(t){console.log(t)},accountChange:function(t){t&&(this.getCurrentPositionsListData(),this.getPositionsHistoryListData())},getCurrentPositionsListData:function(t){var e=this,a=this.$data;this.currentLoading=!0,(!t||void 0==t||t.length<=0)&&(t={account_id:a.account_id,inst_id:a.inst_id}),Object(n.b)("/sigadmin/get_current_positions",{account_id:a.account_id,inst_id:a.inst_id},function(t){e.currentLoading=!1,200==t.status?e.currentPositionsList=t.data.data:e.$message.error("加载数据失败")})},getPositionsHistoryListData:function(t){var e=this,a=this.$data;this.historyLoading=!0,(!t||void 0==t||t.length<=0)&&(t={account_id:a.account_id,limit:a.pageSize,page:a.currPage}),Object(n.b)("/sigadmin/get_positions_history",{account_id:a.account_id,inst_id:a.inst_id,limit:a.pageSize},function(t){e.historyLoading=!1,200==t.status?e.positionsHistoryList=t.data.data:e.$message.error("加载数据失败")})},SearchClick:function(){var t={page:this.currPage,limit:this.pageSize};this.PageSearchWhere=[],this.PageSearchWhere=t,this.getPositionsHistoryListData(t)},SearchReset:function(){this.PageSearchWhere=[],this.getPositionsHistoryListData()},limitPaging:function(t){this.pageSize=t,this.PageSearchWhere.limit&&void 0!==this.PageSearchWhere.limit&&(this.PageSearchWhere.limit=t),this.getListData(this.PageSearchWhere)},skipPaging:function(t){this.currPage=t,this.PageSearchWhere.page&&void 0!==this.PageSearchWhere.page&&(this.PageSearchWhere.page=t),this.getListData(this.PageSearchWhere)},handleClose:function(){this.dialogVisibleShow=!1},formatDate:function(t){return t?new Date(t).toISOString().replace("T"," ").substring(0,19):""},timestampToTime:function(t){var e=Number(t);if(!e||isNaN(e))return"Invalid timestamp";var a=new Date(e);return isNaN(a.getTime())?"Invalid Date":new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(a).replace(/\//g,"-")},getAccountList:function(){var t=this;Object(n.b)("/Grid/grid/getAccountList",{},function(e){1e4==e.data.code?t.accountList=e.data.data:t.$message.error("加载账户数据失败")})}},created:function(){this.getAccountList(),this.getCurrentPositionsListData(),this.getPositionsHistoryListData()},components:{"wbc-page":i.a}}}});
//# sourceMappingURL=11.js.map?v=1757130440501