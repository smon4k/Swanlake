webpackJsonp([26],{"6HV7":function(t,e,a){"use strict";var n=a("Xxa5"),i=a.n(n),r=a("Dd8w"),o=a.n(r),s=a("exGp"),c=a.n(s),l=a("+zHA");e.a={data:function(){return{form:{change_ratio:"",balance_ratio:""},originalForm:{},editing:!1}},created:function(){this.fetchConfig()},methods:{fetchConfig:function(){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{Object(l.b)("/Piggybank/index/getPiggybankConfig",{},function(e){console.log(e),1e4==e.data.code?(t.form=o()({},e.data.data),t.originalForm=o()({},e.data.data)):t.$message.error("加载数据失败")})}catch(e){t.$message.error("获取配置失败")}case 1:case"end":return e.stop()}},e,t)}))()},saveConfig:function(){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{Object(l.c)("/Piggybank/index/savePiggybankConfig",{change_ratio:t.form.change_ratio,balance_ratio:t.form.balance_ratio},function(e){console.log(e),e&&1e4==e.data.code?(t.editing=!1,t.$message.success("配置保存成功"),t.fetchConfig()):(t.editing=!1,t.$message.error(e.data.msg))})}catch(e){t.$message.error("保存失败")}case 1:case"end":return e.stop()}},e,t)}))()},cancelEdit:function(){this.form=o()({},this.originalForm),this.editing=!1}}}},FYd2:function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,".app-container[data-v-32c1a063]{padding:20px}","",{version:3,sources:["/Users/qinlinhui/Sites/WWW/Swanlake/public/AdminServer/src/pages/Piggybank/config.vue"],names:[],mappings:"AACA,gCACE,YAAc,CACf",file:"config.vue",sourcesContent:["\n.app-container[data-v-32c1a063] {\n  padding: 20px;\n}\n"],sourceRoot:""}])},bniy:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("策略配置")]),t._v(" "),t.editing?t._e():a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.editing=!0}}},[t._v("\n        编辑\n      ")]),t._v(" "),t.editing?a("el-button",{staticStyle:{float:"right"},attrs:{type:"success",size:"small"},on:{click:t.saveConfig}},[t._v("\n        保存\n      ")]):t._e(),t._v(" "),t.editing?a("el-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"small"},on:{click:t.cancelEdit}},[t._v("\n        取消\n      ")]):t._e()],1),t._v(" "),a("el-form",{attrs:{model:t.form,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"涨跌比例（%）"}},[a("el-input",{attrs:{disabled:!t.editing},model:{value:t.form.change_ratio,callback:function(e){t.$set(t.form,"change_ratio",e)},expression:"form.change_ratio"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"平衡比例（如 1:1）"}},[a("el-input",{attrs:{disabled:!t.editing},model:{value:t.form.balance_ratio,callback:function(e){t.$set(t.form,"balance_ratio",e)},expression:"form.balance_ratio"}})],1)],1)],1)],1)},i=[],r={render:n,staticRenderFns:i};e.a=r},"o/Hh":function(t,e,a){var n=a("FYd2");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("9e8239b2",n,!0,{})},x99b:function(t,e,a){"use strict";function n(t){a("o/Hh")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("6HV7"),r=a("bniy"),o=a("VU/8"),s=n,c=o(i.a,r.a,!1,s,"data-v-32c1a063",null);e.default=c.exports}});
//# sourceMappingURL=26.js.map?v=1756885152286