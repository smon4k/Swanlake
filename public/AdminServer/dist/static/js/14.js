webpackJsonp([14],{"5ZVj":function(a,t,e){"use strict";var n=e("Dd8w"),o=e.n(n),r=e("pMNZ"),i=e("+zHA");t.a={data:function(){return{currPage:1,pageSize:10,total:0,accountList:[],inst_id:"BTC-USDT-SWAP",PageSearchWhere:{},loading:!1,addQuantityAccountShow:!1,accountForm:{name:"",api_key:"",secret_key:"",pass_phrase:"",exchange:"okx",is_position:"1"},accountRules:{name:[{required:!0,message:"请输入账户名称",trigger:"blur"}],api_key:[{required:!0,message:"请输入APIKey",trigger:"blur"}],secret_key:[{required:!0,message:"请输入SecretKey",trigger:"blur"}],pass_phrase:[{required:!0,message:"请输入Passphrase",trigger:"blur"}],exchange:[{required:!0,message:"请选择网络",trigger:"change"}],is_position:[{required:!0,message:"请选择是否持仓",trigger:"change"}]}}},created:function(){this.getAccountList()},components:{"wbc-page":r.a},methods:{limitPaging:function(a){this.pageSize=a,this.PageSearchWhere.limit&&void 0!==this.PageSearchWhere.limit&&(this.PageSearchWhere.limit=a),this.getAccountList(this.PageSearchWhere)},skipPaging:function(a){this.currPage=a,this.PageSearchWhere.page&&void 0!==this.PageSearchWhere.page&&(this.PageSearchWhere.page=a),this.getAccountList(this.PageSearchWhere)},getAccountList:function(){var a=this;this.loading=!0,Object(i.b)("/Grid/grid/getAccountList",{},function(t){1e4==t.data.code?(a.loading=!1,a.accountList=t.data.data.map(function(a){return o()({},a,{balance:"--",balanceLoading:!0})}),a.total=t.data.data.count,a.fetchAccountBalances()):a.$message.error("加载账户数据失败")})},fetchAccountBalances:function(){var a=this;this.accountList.forEach(function(t){Object(i.b)("/sigadmin/get_account_over",{account_id:t.id,inst_id:a.inst_id},function(e){console.log(e),200==e.status?(t.balance=e.data.data.data.trading_balance,t.balanceLoading=!1):(t.balance="获取失败",a.$message.error("获取账户余额失败"))})})},addQuantityAccount:function(){this.addQuantityAccountShow=!0},addAccountSubmitForm:function(a){var t=this;this.$refs[a].validate(function(e){if(!e)return console.log("error submit!!"),!1;var n=t.$loading({target:".el-dialog"});Object(i.c)("/Grid/Quantifyaccount/addQuantityAccount",t.accountForm,function(e){console.log(e),e&&1e4==e.data.code?(t.$message.success("添加成功"),t.addQuantityAccountShow=!1,t.$refs[a].resetFields(),n.close(),t.dialogVisibleShow=!1,t.getAccountList()):(n.close(),t.addQuantityAccountShow=!1,t.$message.error(e.data.msg))})})},DelData:function(a){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.b)("/Grid/Quantifyaccount/deleteQuantityAccount",{account_id:a.id},function(a){a&&1e4==a.data.code?(t.getAccountList(),t.$message({type:"success",message:"删除成功!"})):(a.data.code,t.$message.error(a.data.msg))})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}}},AO5d:function(a,t,e){"use strict";t.a={props:["total","pageSize","currPage"],data:function(){return{}},methods:{handleSizeChange:function(a){this.$emit("changeLimit",a)},handleCurrentChange:function(a){this.$emit("changeSkip",a)}}}},Eqnc:function(a,t,e){"use strict";var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("nav",[e("div",{staticClass:"grid-content"},[e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{"current-page":a.currPage,"page-sizes":[10,20,30,50,100],"page-size":a.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:a.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1)])])},o=[],r={render:n,staticRenderFns:o};t.a=r},Re2X:function(a,t,e){"use strict";function n(a){e("T+IM")}Object.defineProperty(t,"__esModule",{value:!0});var o=e("5ZVj"),r=e("t2HS"),i=e("VU/8"),c=n,s=i(o.a,r.a,!1,c,"data-v-585af2a6",null);t.default=s.exports},"T+IM":function(a,t,e){var n=e("XwuH");"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);e("rjj0")("100d5514",n,!0,{})},TZN5:function(a,t,e){t=a.exports=e("FZ+f")(!0),t.push([a.i,".pagination[data-v-385880eb]{float:right}","",{version:3,sources:["/Users/qinlinhui/Sites/WWW/Swanlake/public/AdminServer/src/components/Page.vue"],names:[],mappings:"AACA,6BACE,WAAa,CACd",file:"Page.vue",sourcesContent:["\n.pagination[data-v-385880eb]{\n  float: right;\n}\n"],sourceRoot:""}])},XwuH:function(a,t,e){t=a.exports=e("FZ+f")(!0),t.push([a.i,'.project-top[data-v-585af2a6]{margin-bottom:20px;margin-top:20px}.avatar-uploader .el-upload[data-v-585af2a6]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-585af2a6]:hover{border-color:#409eff}.avatar-uploader-icon[data-v-585af2a6]{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar[data-v-585af2a6]{width:100%;height:230px;display:block}.el-radio-group .el-radio+.el-radio[data-v-585af2a6]{margin-left:0!important}.pages[data-v-585af2a6]{margin-top:0!important;margin-bottom:80px!important}.el-breadcrumb[data-v-585af2a6]{z-index:10!important}.el-carousel__item h3[data-v-585af2a6]{color:#475669;font-size:18px;opacity:.75;line-height:300px;margin:0}.el-carousel__item[data-v-585af2a6]:nth-child(2n){background-color:#99a9bf}.el-carousel__item[data-v-585af2a6]:nth-child(odd){background-color:#d3dce6}.balance-container[data-v-585af2a6]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.loading[data-v-585af2a6]{display:contents;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:14px}.loading[data-v-585af2a6]:after{content:" ";display:block;width:16px;height:16px;border:2px solid #606266;border-top-color:transparent;border-radius:50%;-webkit-animation:loading-data-v-585af2a6 1s linear infinite;animation:loading-data-v-585af2a6 1s linear infinite}@-webkit-keyframes loading-data-v-585af2a6{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loading-data-v-585af2a6{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',"",{version:3,sources:["/Users/qinlinhui/Sites/WWW/Swanlake/public/AdminServer/src/pages/Grid/accounts.vue"],names:[],mappings:"AACA,8BAA8B,mBAAmB,eAAe,CAC/D,AACD,6CAA6C,0BAA0B,kBAAkB,eAAe,kBAAkB,eAAe,CACxI,AACD,mDAAmD,oBAAoB,CACtE,AACD,uCAAuC,eAAe,cAAc,YAAY,aAAa,kBAAkB,iBAAiB,CAC/H,AACD,yBAAyB,WAAW,aAAa,aAAa,CAC7D,AACD,qDAAqD,uBAAwB,CAC5E,AACD,wBAAwB,uBAAwB,4BAA6B,CAC5E,AACD,gCAAgC,oBAAqB,CACpD,AACD,uCAAuC,cAAc,eAAe,YAAa,kBAAkB,QAAQ,CAC1G,AACD,kDAAkD,wBAAwB,CACzE,AACD,mDAAoD,wBAAwB,CAC3E,AACD,oCAAoC,kBAAkB,oBAAoB,oBAAoB,aAAa,wBAAwB,qBAAqB,uBAAuB,yBAAyB,sBAAsB,kBAAkB,CAC/O,AACD,0BAA0B,iBAAiB,QAAQ,SAAS,uCAAwC,+BAAgC,cAAc,CACjJ,AACD,gCAAiC,YAAY,cAAc,WAAW,YAAY,yBAAyB,6BAA6B,kBAAkB,6DAA6D,oDAAoD,CAC1Q,AACD,2CACA,GAAG,+BAA+B,sBAAsB,CACvD,AACD,GAAK,gCAAiC,uBAAwB,CAC7D,CACA,AACD,mCACA,GAAG,+BAA+B,sBAAsB,CACvD,AACD,GAAK,gCAAiC,uBAAwB,CAC7D,CACA",file:"accounts.vue",sourcesContent:["\n.project-top[data-v-585af2a6]{margin-bottom:20px;margin-top:20px\n}\n.avatar-uploader .el-upload[data-v-585af2a6]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden\n}\n.avatar-uploader .el-upload[data-v-585af2a6]:hover{border-color:#409EFF\n}\n.avatar-uploader-icon[data-v-585af2a6]{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center\n}\n.avatar[data-v-585af2a6]{width:100%;height:230px;display:block\n}\n.el-radio-group .el-radio+.el-radio[data-v-585af2a6]{margin-left:0 !important\n}\n.pages[data-v-585af2a6]{margin-top:0 !important;margin-bottom:80px !important\n}\n.el-breadcrumb[data-v-585af2a6]{z-index:10 !important\n}\n.el-carousel__item h3[data-v-585af2a6]{color:#475669;font-size:18px;opacity:0.75;line-height:300px;margin:0\n}\n.el-carousel__item[data-v-585af2a6]:nth-child(2n){background-color:#99a9bf\n}\n.el-carousel__item[data-v-585af2a6]:nth-child(2n+1){background-color:#d3dce6\n}\n.balance-container[data-v-585af2a6]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center\n}\n.loading[data-v-585af2a6]{display:contents;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);font-size:14px\n}\n.loading[data-v-585af2a6]::after{content:' ';display:block;width:16px;height:16px;border:2px solid #606266;border-top-color:transparent;border-radius:50%;-webkit-animation:loading-data-v-585af2a6 1s linear infinite;animation:loading-data-v-585af2a6 1s linear infinite\n}\n@-webkit-keyframes loading-data-v-585af2a6{\n0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\n}\n100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)\n}\n}\n@keyframes loading-data-v-585af2a6{\n0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\n}\n100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)\n}\n}\n"],sourceRoot:""}])},kQ9O:function(a,t,e){var n=e("TZN5");"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);e("rjj0")("6a9f0435",n,!0,{})},pMNZ:function(a,t,e){"use strict";function n(a){e("kQ9O")}var o=e("AO5d"),r=e("Eqnc"),i=e("VU/8"),c=n,s=i(o.a,r.a,!1,c,"data-v-385880eb",null);t.a=s.exports},t2HS:function(a,t,e){"use strict";var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a._v("首页")]),a._v(" "),e("el-breadcrumb-item",[a._v("账户列表")])],1),a._v(" "),e("div",{staticStyle:{"text-align":"right","margin-bottom":"10px"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(t){return a.addQuantityAccount()}}},[a._v("添加账户")])],1),a._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:a.accountList}},[e("el-table-column",{attrs:{prop:"name",label:"账户名称",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"exchange",label:"网络",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"api_key",label:"API Key",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"api_secret",label:"API Secret",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"api_passphrase",label:"API Passphrase",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"add_time",label:"添加时间",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"balance",label:"账户余额",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("div",{staticClass:"balance-container"},[t.row.balanceLoading?e("span",{staticStyle:{display:"contents"}},[e("span",{staticClass:"loading"}),a._v("  USDT")]):e("span",[a._v(a._s(a.keepDecimalNotRounding(t.row.balance,2))+" USDT")])])]}}])}),a._v(" "),e("el-table-column",{attrs:{prop:"balance",label:"操作",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return a.DelData(t.row)}}},[a._v("删除")])]}}])})],1),a._v(" "),e("el-row",{staticClass:"pages"},[e("el-col",{attrs:{span:24}},[e("div",{staticStyle:{float:"right"}},[e("wbc-page",{attrs:{total:a.total,pageSize:a.pageSize,currPage:a.currPage},on:{changeLimit:a.limitPaging,changeSkip:a.skipPaging}})],1)])],1),a._v(" "),e("el-dialog",{attrs:{title:"添加账户",visible:a.addQuantityAccountShow,width:"50%"},on:{"update:visible":function(t){a.addQuantityAccountShow=t}}},[e("el-form",{ref:"accountForm",attrs:{model:a.accountForm,rules:a.accountRules,"label-width":"120px"}},[e("el-form-item",{attrs:{label:"账户名称",prop:"name"}},[e("el-input",{model:{value:a.accountForm.name,callback:function(t){a.$set(a.accountForm,"name",t)},expression:"accountForm.name"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"APIKey",prop:"api_key"}},[e("el-input",{model:{value:a.accountForm.api_key,callback:function(t){a.$set(a.accountForm,"api_key",t)},expression:"accountForm.api_key"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"SecretKey",prop:"secret_key"}},[e("el-input",{model:{value:a.accountForm.secret_key,callback:function(t){a.$set(a.accountForm,"secret_key",t)},expression:"accountForm.secret_key"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"Passphrase",prop:"pass_phrase"}},[e("el-input",{model:{value:a.accountForm.pass_phrase,callback:function(t){a.$set(a.accountForm,"pass_phrase",t)},expression:"accountForm.pass_phrase"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"网络",prop:"exchange"}},[e("el-radio-group",{model:{value:a.accountForm.exchange,callback:function(t){a.$set(a.accountForm,"exchange",t)},expression:"accountForm.exchange"}},[e("el-radio",{attrs:{label:"okx"}},[a._v("OKX")])],1)],1)],1),a._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){a.addQuantityAccountShow=!1}}},[a._v("取 消")]),a._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){return a.addAccountSubmitForm("accountForm")}}},[a._v("确 定")])],1)],1)],1)},o=[],r={render:n,staticRenderFns:o};t.a=r}});
//# sourceMappingURL=14.js.map?v=1760942039336