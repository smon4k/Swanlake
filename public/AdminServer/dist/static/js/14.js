webpackJsonp([14],{AO5d:function(e,a,t){"use strict";a.a={props:["total","pageSize","currPage"],data:function(){return{}},methods:{handleSizeChange:function(e){this.$emit("changeLimit",e)},handleCurrentChange:function(e){this.$emit("changeSkip",e)}}}},Eqnc:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("nav",[t("div",{staticClass:"grid-content"},[t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"current-page":e.currPage,"page-sizes":[10,20,30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},i=[],s={render:r,staticRenderFns:i};a.a=s},TZN5:function(e,a,t){a=e.exports=t("FZ+f")(!0),a.push([e.i,".pagination[data-v-385880eb]{float:right}","",{version:3,sources:["/Users/qinlinhui/Sites/WWW/Swanlake/public/AdminServer/src/components/Page.vue"],names:[],mappings:"AACA,6BACE,WAAa,CACd",file:"Page.vue",sourcesContent:["\n.pagination[data-v-385880eb]{\n  float: right;\n}\n"],sourceRoot:""}])},XY3e:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"project-top"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"账号:"}},[t("el-input",{attrs:{clearable:"",placeholder:"账号"},model:{value:e.user_name,callback:function(a){e.user_name=a},expression:"user_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"用户名:"}},[t("el-input",{attrs:{clearable:"",placeholder:"用户名"},model:{value:e.real_name,callback:function(a){e.real_name=a},expression:"real_name"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.SearchClick()}}},[e._v("搜索")]),e._v(" "),t("el-button",{staticClass:"pull-right",attrs:{type:"primary"},on:{click:function(a){return e.AddUserInfoShow()}}},[e._v("添加管理员")])],1)],1)],1),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"550"}},[t("el-table-column",{attrs:{sortable:"",prop:"id",label:"ID",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"user_name",label:"账号",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"real_name",label:"用户名",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"ceil_phone",label:"手机号",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"email",label:"邮箱",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"group_name",label:"角色",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return a.row.id>1?[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.UpdateAdminUserInfo(a.row)}}},[e._v("修改")]),e._v(" "),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.DelData(a.row)}}},[e._v("删除")])]:void 0}}],null,!0)})],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticStyle:{float:"right"}},[t("wbc-page",{attrs:{total:e.total,pageSize:e.pageSize,currPage:e.currPage},on:{changeLimit:e.limitPaging,changeSkip:e.skipPaging}})],1)])],1),e._v(" "),t("el-dialog",{attrs:{title:e.DialogTitle+"管理员信息",visible:e.dialogVisibleShow,width:"30%"},on:{"update:visible":function(a){e.dialogVisibleShow=a}}},[t("el-form",{ref:"FormData",attrs:{model:e.FormData,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"账号",prop:"user_name"}},[t("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.FormData.user_name,callback:function(a){e.$set(e.FormData,"user_name",a)},expression:"FormData.user_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"权限角色",prop:"groupid"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选权限角色",clearable:""},model:{value:e.FormData.groupid,callback:function(a){e.$set(e.FormData,"groupid",a)},expression:"FormData.groupid"}},e._l(e.AuthGroupData,function(e,a){return t("el-option",{key:a,attrs:{label:e.title,value:e.id}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"用户名",prop:"real_name"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.FormData.real_name,callback:function(a){e.$set(e.FormData,"real_name",a)},expression:"FormData.real_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号"}},[t("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.FormData.ceil_phone,callback:function(a){e.$set(e.FormData,"ceil_phone",a)},expression:"FormData.ceil_phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱"}},[t("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.FormData.email,callback:function(a){e.$set(e.FormData,"email",a)},expression:"FormData.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{"show-password":"",placeholder:"请输入密码"},model:{value:e.FormData.password,callback:function(a){e.$set(e.FormData,"password",a)},expression:"FormData.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"passwords"}},[t("el-input",{attrs:{"show-password":"",placeholder:"确认密码"},model:{value:e.FormData.passwords,callback:function(a){e.$set(e.FormData,"passwords",a)},expression:"FormData.passwords"}})],1),e._v(" "),t("el-form-item",{attrs:{align:"right"}},[t("el-button",{on:{click:function(a){return e.resetForm("FormData")}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.onUpdateSubmit("FormData")}}},[e._v("立即"+e._s(e.DialogTitle))])],1)],1)],1)],1)},i=[],s={render:r,staticRenderFns:i};a.a=s},evQg:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("j7LE"),i=t("XY3e"),s=t("VU/8"),n=s(r.a,i.a,!1,null,null,null);a.default=n.exports},j7LE:function(e,a,t){"use strict";var r=t("pMNZ"),i=t("+zHA");a.a={data:function(){return{currPage:1,pageSize:20,total:100,PageSearchWhere:[],user_name:"",real_name:"",tableData:[],dialogVisibleShow:!1,FormData:{id:"",user_name:"",real_name:"",ceil_phone:"",email:"",password:"",passwords:"",groupid:""},DialogTitle:"添加",is_save_add_start:1,AuthGroupData:[],rules:{user_name:[{required:!0,message:"请输入账号",trigger:"blur"}],groupid:[{required:!0,message:"请选择权限角色",trigger:"change"}],real_name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],passwords:[{required:!0,message:"请输入确认密码",trigger:"blur"}]}}},methods:{getListData:function(e){var a=this,t=this.$data;(!e||void 0==e||e.length<=0)&&(e={limit:t.pageSize,page:t.currPage}),Object(i.b)("/Admin/Adminuser/AdminUserList",e,function(e){1e4==e.data.code?(a.tableData=e.data.data.data,a.total=e.data.data.count):a.$message.error("加载数据失败")})},showUserList:function(e){this.$router.replace({path:"/index/exam/index/projectwxlist?project_id="+e.project_id})},SearchClick:function(){var e={page:this.currPage,limit:this.pageSize};this.user_name&&""!==this.user_name&&(e.user_name=this.user_name),this.real_name&&""!==this.real_name&&(e.real_name=this.real_name),this.PageSearchWhere=[],this.PageSearchWhere=e,this.getListData(e)},SearchReset:function(){this.province="",this.city="",this.area="",this.PageSearchWhere=[],this.getData()},limitPaging:function(e){this.pageSize=e,this.PageSearchWhere.limit&&void 0!==this.PageSearchWhere.limit&&(this.PageSearchWhere.limit=e),this.getData(this.PageSearchWhere)},skipPaging:function(e){this.currPage=e,this.PageSearchWhere.page&&void 0!==this.PageSearchWhere.page&&(this.PageSearchWhere.page=e),this.getData(this.PageSearchWhere)},DelData:function(e){var a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.b)("/Admin/Adminuser/delAdminUseRow",{id:e.id},function(e){e&&1e4==e.data.code?(a.getListData(),a.$message({type:"success",message:"删除成功!"})):(a.$refs.multipleTable.clearSelection(),a.$message.error("删除失败"))})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},UpdateAdminUserInfo:function(e){this.is_save_add_start=2,this.DialogTitle="修改",this.FormData.id=e.id,this.FormData.user_name=e.user_name,this.FormData.real_name=e.real_name,this.FormData.groupid=e.groupid,this.FormData.password="",this.FormData.passwords="",this.dialogVisibleShow=!0},onUpdateSubmit:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;if(""==a.FormData.password)a.$message({type:"info",message:"两次密码输入不一致"});else if(a.FormData.password!==a.FormData.passwords)a.$message({type:"info",message:"两次密码输入不一致"});else{if(1==a.is_save_add_start)var t="/Admin/Adminuser/addAdminUserInfo";else var t="/Admin/Adminuser/sevaAdminUserInfo";Object(i.b)(t,a.FormData,function(e){e&&1e4==e.data.code?(a.dialogVisibleShow=!1,a.$message({type:"success",message:a.DialogTitle+"成功!"}),a.getListData()):(a.dialogVisibleShow=!1,a.$message.error(a.DialogTitle+"失败"))})}})},AddUserInfoShow:function(){this.is_save_add_start=1,this.DialogTitle="添加",this.FormData={id:"",user_name:"",real_name:"",ceil_phone:"",email:"",password:"",passwords:"",groupid:""},this.dialogVisibleShow=!0},getAuthGroupData:function(){var e=this;Object(i.b)("/Admin/Authgroup/getAuthGroupList",{status:1},function(a){a&&1e4==a.data.code?e.AuthGroupData=a.data.data.data:e.$message.error("获取权限角色数据失败")})},resetForm:function(e){this.$refs[e].resetFields(),this.dialogVisibleShow=!1}},created:function(){this.getListData(),this.getAuthGroupData()},components:{"wbc-page":r.a}}},kQ9O:function(e,a,t){var r=t("TZN5");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("6a9f0435",r,!0,{})},pMNZ:function(e,a,t){"use strict";function r(e){t("kQ9O")}var i=t("AO5d"),s=t("Eqnc"),n=t("VU/8"),o=r,l=n(i.a,s.a,!1,o,"data-v-385880eb",null);a.a=l.exports}});
//# sourceMappingURL=14.js.map?v=1670237722579