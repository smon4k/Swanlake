webpackJsonp([10],{AO5d:function(e,a,t){"use strict";a.a={props:["total","pageSize","currPage"],data:function(){return{}},methods:{handleSizeChange:function(e){this.$emit("changeLimit",e)},handleCurrentChange:function(e){this.$emit("changeSkip",e)}}}},KMEk:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("nav",[t("div",{staticClass:"grid-content"},[t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"current-page":e.currPage,"page-sizes":[10,20,30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},i=[],o={render:n,staticRenderFns:i};a.a=o},NL1e:function(e,a,t){"use strict";function n(e){t("Z8Y0")}Object.defineProperty(a,"__esModule",{value:!0});var i=t("uh9Q"),o=t("sgU8"),r=t("VU/8"),s=n,l=r(i.a,o.a,!1,s,"data-v-a41d3a38",null);a.default=l.exports},Z8Y0:function(e,a,t){var n=t("vIR+");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("a8b99d68",n,!0,{})},gqDt:function(e,a,t){a=e.exports=t("FZ+f")(!0),a.push([e.i,".pagination[data-v-eeb91266]{float:right}","",{version:3,sources:["C:/Users/v-linhuiqin/www/Swanlake/public/AdminServer/src/components/Page.vue"],names:[],mappings:"AACA,6BACE,WAAa,CACd",file:"Page.vue",sourcesContent:["\n.pagination[data-v-eeb91266]{\n  float: right;\n}\n"],sourceRoot:""}])},pMNZ:function(e,a,t){"use strict";function n(e){t("zvqY")}var i=t("AO5d"),o=t("KMEk"),r=t("VU/8"),s=n,l=r(i.a,o.a,!1,s,"data-v-eeb91266",null);a.a=l.exports},sgU8:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),t("el-breadcrumb-item",{attrs:{to:""}},[e._v("SIG持仓管理")]),e._v(" "),t("el-breadcrumb-item",{attrs:{to:""}},[e._v("数据统计")])],1),e._v(" "),t("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabClick}},[t("el-tab-pane",{attrs:{label:"当前持仓"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.currentLoading,expression:"currentLoading"}],staticStyle:{width:"100%"},attrs:{data:e.currentPositionsList}},[t("el-table-column",{attrs:{prop:"symbol",label:"交易品种",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"side",label:"持仓方向",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return["long"===a.row.side?t("span",[e._v("开多")]):"short"===a.row.side?t("span",[e._v("开空")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"持仓张数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.contracts)+" 张")])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"标记价格",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.keepDecimalNotRounding(a.row.markPrice,2,!0)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"开仓均价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.keepDecimalNotRounding(a.row.entryPrice,2,!0)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"浮动收益",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.keepDecimalNotRounding(a.row.unrealizedPnl,2,!0)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"维持保证金率",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.keepDecimalNotRounding(100*a.row.maintenanceMarginPercentage,2,!0))+"%")])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"保证金",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.keepDecimalNotRounding(a.row.collateral,2,!0))+" USDT")])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"盈亏平衡价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.keepDecimalNotRounding(a.row.entryPrice+a.row.unrealizedPnl/a.row.contracts,2,!0))+" USDT")])]}}])})],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"历史持仓"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.historyLoading,expression:"historyLoading"}],staticStyle:{width:"100%"},attrs:{data:e.positionsHistoryList}},[t("el-table-column",{attrs:{prop:"symbol",label:"交易品种",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.symbol))]),e._v(" "),t("br"),e._v(" "),"cross"===a.row.info.mgnMode?t("span",[e._v("全仓")]):e._e(),e._v(" "),"isolated"===a.row.info.mgnMode?t("span",[e._v("逐仓")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"datetime",label:"委托时间",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.formatDate(a.row.datetime)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"side",label:"交易方向",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[a.row.info?t("div",["long"===a.row.info.direction&&"long"===a.row.info.posSide?t("span",{staticStyle:{color:"#05C48E"}},[e._v("买入开多")]):"long"===a.row.info.direction&&"short"===a.row.info.posSide?t("span",{staticStyle:{color:"#05C48E"}},[e._v("买入平空")]):"short"===a.row.info.direction&&"long"===a.row.info.posSide?t("span",{staticStyle:{color:"#df473d"}},[e._v("卖出平多")]):"short"===a.row.info.direction&&"short"===a.row.info.posSide?t("span",{staticStyle:{color:"#df473d"}},[e._v("卖出开空")]):t("span",{staticStyle:{color:"#df473d"}},[e._v("卖出")])]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"成交均价 | 委托价",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.keepDecimalNotRounding(a.row.entryPrice,2,!0))+" USDT")])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"已成交 | 委托总量",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.keepDecimalNotRounding(a.row.contractSize,2,!0))+" 合约")])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"已成交｜委托价值",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.keepDecimalNotRounding(a.row.contractSize*a.row.entryPrice,2,!0))+" USDT")])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"收益 | 收益率",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticStyle:{color:"#25a750"}},[e._v("\n                "+e._s(e.keepDecimalNotRounding(a.row.realizedPnl,2,!0))+" USDT\n                "),t("br"),e._v("\n                "+e._s(e.keepDecimalNotRounding(a.row.realizedPnl/(a.row.contractSize*a.row.entryPrice)*100,2,!0))+"%\n              ")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"fee",label:"手续费",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.keepDecimalNotRounding(a.row.fee||0,2,!0))+" USDT")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"hedged",label:"只减仓",align:"left",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.hedged?"是":"否"))])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"订单状态 | 编号",align:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",["1"==a.row.info.type?t("span",[e._v("部分成交")]):e._e(),e._v(" "),"2"==a.row.info.type?t("span",[e._v("完全成交")]):e._e(),e._v(" "),"3"==a.row.info.type?t("span",[e._v("强平")]):e._e(),e._v(" "),"4"==a.row.info.type?t("span",[e._v("强减")]):e._e(),e._v(" "),"5"==a.row.info.type?t("span",[e._v("ADL自动减仓")]):e._e(),e._v(" "),t("br"),e._v("\n                "+e._s(a.row.id)+"\n              ")])]}}])})],1),e._v(" "),t("el-row",{staticClass:"pages"},[t("el-col",{attrs:{span:24}},[t("div",{staticStyle:{float:"right"}},[t("wbc-page",{attrs:{total:e.total,pageSize:e.pageSize,currPage:e.currPage},on:{changeLimit:e.limitPaging,changeSkip:e.skipPaging}})],1)])],1)],1)],1)],1)},i=[],o={render:n,staticRenderFns:i};a.a=o},uh9Q:function(e,a,t){"use strict";var n=t("pMNZ"),i=(t("oAV5"),t("+zHA"));a.a={data:function(){return{account_id:2,inst_id:"BTC-USDT-SWAP",currPage:1,pageSize:100,total:100,PageSearchWhere:[],positionsHistoryList:[],historyLoading:!1,currentPositionsList:[],currentLoading:!1}},methods:{tabClick:function(e){console.log(e)},getCurrentPositionsListData:function(e){var a=this,t=this.$data;this.currentLoading=!0,(!e||void 0==e||e.length<=0)&&(e={account_id:t.account_id,inst_id:t.inst_id}),Object(i.b)("/sigadmin/get_current_positions",{account_id:t.account_id,inst_id:t.inst_id},function(e){a.currentLoading=!1,200==e.status?a.currentPositionsList=e.data.data:a.$message.error("加载数据失败")})},getPositionsHistoryListData:function(e){var a=this,t=this.$data;this.historyLoading=!0,(!e||void 0==e||e.length<=0)&&(e={account_id:t.account_id,limit:t.pageSize,page:t.currPage}),Object(i.b)("/sigadmin/get_positions_history",{account_id:t.account_id,inst_id:t.inst_id,limit:t.pageSize},function(e){a.historyLoading=!1,200==e.status?a.positionsHistoryList=e.data.data:a.$message.error("加载数据失败")})},SearchClick:function(){var e={page:this.currPage,limit:this.pageSize};this.PageSearchWhere=[],this.PageSearchWhere=e,this.getPositionsHistoryListData(e)},SearchReset:function(){this.PageSearchWhere=[],this.getPositionsHistoryListData()},limitPaging:function(e){this.pageSize=e,this.PageSearchWhere.limit&&void 0!==this.PageSearchWhere.limit&&(this.PageSearchWhere.limit=e),this.getListData(this.PageSearchWhere)},skipPaging:function(e){this.currPage=e,this.PageSearchWhere.page&&void 0!==this.PageSearchWhere.page&&(this.PageSearchWhere.page=e),this.getListData(this.PageSearchWhere)},handleClose:function(){this.dialogVisibleShow=!1},formatDate:function(e){return e?new Date(e).toISOString().replace("T"," ").substring(0,19):""}},created:function(){this.getCurrentPositionsListData(),this.getPositionsHistoryListData()},components:{"wbc-page":n.a}}},"vIR+":function(e,a,t){a=e.exports=t("FZ+f")(!0),a.push([e.i,".avatar-uploader .el-upload[data-v-a41d3a38]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-a41d3a38]:hover{border-color:#409eff}.avatar-uploader-icon[data-v-a41d3a38]{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar[data-v-a41d3a38]{width:100%;height:230px;display:block}.el-radio-group .el-radio+.el-radio[data-v-a41d3a38]{margin-left:0!important}.pages[data-v-a41d3a38]{margin-top:0!important;margin-bottom:80px!important}.el-breadcrumb[data-v-a41d3a38]{z-index:10!important}.el-carousel__item h3[data-v-a41d3a38]{color:#475669;font-size:18px;opacity:.75;line-height:300px;margin:0}.el-carousel__item[data-v-a41d3a38]:nth-child(2n){background-color:#99a9bf}.el-carousel__item[data-v-a41d3a38]:nth-child(odd){background-color:#d3dce6}[data-v-a41d3a38] .preview-class img{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}[data-v-a41d3a38] .preview-class video{width:100%;height:70vh}[data-v-a41d3a38] .preview-class .el-dialog__headerbtn{z-index:1000;color:#030303}[data-v-a41d3a38] .preview-class .el-dialog__headerbtn .el-dialog__close{color:#030303;font-size:20px;font-weight:900}[data-v-a41d3a38] .preview-class .el-dialog__header{padding:0!important}[data-v-a41d3a38] .preview-class .el-dialog__body{padding:0}","",{version:3,sources:["C:/Users/v-linhuiqin/www/Swanlake/public/AdminServer/src/pages/Grid/positions.vue"],names:[],mappings:"AACA,6CAA6C,0BAA0B,kBAAkB,eAAe,kBAAkB,eAAe,CACxI,AACD,mDAAmD,oBAAoB,CACtE,AACD,uCAAuC,eAAe,cAAc,YAAY,aAAa,kBAAkB,iBAAiB,CAC/H,AACD,yBAAyB,WAAW,aAAa,aAAa,CAC7D,AACD,qDAAqD,uBAAwB,CAC5E,AACD,wBAAwB,uBAAwB,4BAA6B,CAC5E,AACD,gCAAgC,oBAAqB,CACpD,AACD,uCAAuC,cAAc,eAAe,YAAa,kBAAkB,QAAQ,CAC1G,AACD,kDAAkD,wBAAwB,CACzE,AACD,mDAAoD,wBAAwB,CAC3E,AACD,qCAAqC,WAAW,YAAY,sBAAsB,kBAAkB,CACnG,AACD,uCAAuC,WAAW,WAAW,CAC5D,AACD,uDAAuD,aAAa,aAAa,CAChF,AACD,yEAAyE,cAAc,eAAe,eAAe,CACpH,AACD,oDAAoD,mBAAoB,CACvE,AACD,kDAAkD,SAAS,CAC1D",file:"positions.vue",sourcesContent:["\n.avatar-uploader .el-upload[data-v-a41d3a38]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden\n}\n.avatar-uploader .el-upload[data-v-a41d3a38]:hover{border-color:#409EFF\n}\n.avatar-uploader-icon[data-v-a41d3a38]{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center\n}\n.avatar[data-v-a41d3a38]{width:100%;height:230px;display:block\n}\n.el-radio-group .el-radio+.el-radio[data-v-a41d3a38]{margin-left:0 !important\n}\n.pages[data-v-a41d3a38]{margin-top:0 !important;margin-bottom:80px !important\n}\n.el-breadcrumb[data-v-a41d3a38]{z-index:10 !important\n}\n.el-carousel__item h3[data-v-a41d3a38]{color:#475669;font-size:18px;opacity:0.75;line-height:300px;margin:0\n}\n.el-carousel__item[data-v-a41d3a38]:nth-child(2n){background-color:#99a9bf\n}\n.el-carousel__item[data-v-a41d3a38]:nth-child(2n+1){background-color:#d3dce6\n}\n[data-v-a41d3a38] .preview-class img{width:100%;height:100%;-o-object-fit:contain;object-fit:contain\n}\n[data-v-a41d3a38] .preview-class video{width:100%;height:70vh\n}\n[data-v-a41d3a38] .preview-class .el-dialog__headerbtn{z-index:1000;color:#030303\n}\n[data-v-a41d3a38] .preview-class .el-dialog__headerbtn .el-dialog__close{color:#030303;font-size:20px;font-weight:900\n}\n[data-v-a41d3a38] .preview-class .el-dialog__header{padding:0 !important\n}\n[data-v-a41d3a38] .preview-class .el-dialog__body{padding:0\n}\n"],sourceRoot:""}])},zvqY:function(e,a,t){var n=t("gqDt");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("47347ea0",n,!0,{})}});
//# sourceMappingURL=10.js.map?v=1744628933746