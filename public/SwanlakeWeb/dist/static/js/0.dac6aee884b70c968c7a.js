webpackJsonp([0],{AO5d:function(e,t,n){"use strict";t.a={props:["total","pageSize","currPage"],data:function(){return{}},methods:{handleSizeChange:function(e){this.$emit("changeLimit",e)},handleCurrentChange:function(e){this.$emit("changeSkip",e)}}}},C7Db:function(e,t,n){"use strict";var a=n("NYxO"),r=n("+zHA"),i=(n("vLgD"),n("pMNZ")),o=n("cx+2"),s=n("JHeQ"),c=n("GKmE"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(r,i){try{var o=t[r](i),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})}}t.a={name:"",data:function(){return{timeInterval:null,refreshTime:1e4,tableData:[],currPage:1,pageSize:20,total:100,poolBtcData:{},loading:!0,receiveLoading:!1}},activated:function(){},beforeRouteLeave:function(e,t,n){n(),this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)},computed:u({},Object(a.c)({address:function(e){return e.base.address},isConnected:function(e){return e.base.isConnected},isMobel:function(e){return e.comps.isMobel},mainTheme:function(e){return e.comps.mainTheme},apiUrl:function(e){return e.base.apiUrl},nftUrl:function(e){return e.base.nftUrl},hashPowerPoolsList:function(e){return e.base.hashPowerPoolsList}})),created:function(){this.getPoolBtcData()},watch:{isConnected:{immediate:!0,handler:function(e){var t=this;e&&(this.hashPowerPoolsList.length||this.$store.dispatch("getHashPowerPoolsList"),setTimeout(p(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.getPoolBtcData(),t.getMyProductList(),t.refreshData(),console.log(t.hashPowerPoolsList);case 4:case"end":return e.stop()}},e,t)})),300))}},hashPowerPoolsList:{immediate:!0,handler:function(e){var t=this;return p(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e&&t.address;case 1:case"end":return n.stop()}},n,t)}))()}},poolBtcData:{immediate:!0,handler:function(e){var t=this;return p(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e&&t.address&&t.getMyProductList();case 1:case"end":return n.stop()}},n,t)}))()}}},components:{"wbc-page":i.a},methods:{refreshData:function(){var e=this;this.timeInterval=setInterval(p(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.dispatch("refreshHashPowerPoolsList"),t.next=3,e.getPoolBtcData();case 3:return t.next=5,e.getMyProductList();case 5:case"end":return t.stop()}},t,e)})),this.refreshTime)},getPoolBtcData:function(){var e=this;return p(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.g)();case 2:(n=t.sent)&&n.length>0&&(e.poolBtcData=n[0]);case 4:case"end":return t.stop()}},t,e)}))()},buyClick:function(e,t){this.$router.push({path:"/financial/currentDetail",query:{type:t,product_id:e.product_id}})},HashpowerBuyClick:function(e,t){this.$router.push({path:"/hashpower/buy",query:{type:t,hash_id:e.id}})},incomeClick:function(e){this.$router.push({path:"/financial/userDetailsList",query:{product_id:e.product_id}})},getMyProductList:function(e){var t,n=this;this.address?((!e||void 0==e||e.length<=0)&&(e={limit:this.pageSize,page:this.currPage,address:this.address}),Object(r.b)(this.apiUrl+"/Api/Product/getMyProductList",e,(t=p(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1e4!=t.code){e.next=13;break}return a=t.data&&t.data.lists||[],e.next=4,n.getMyHashpowerList();case 4:(r=e.sent)&&r.length>0&&(a=[].concat(l(a),l(r))),console.log(a),n.loading=!1,n.tableData=a,n.total=t.data.count,n.$forceUpdate(),e.next=14;break;case 13:n.$message.error("加载数据失败");case 14:case"end":return e.stop()}},e,n)})),function(e){return t.apply(this,arguments)}))):this.loading=!1},getMyHashpowerList:function(e){var t=this;return p(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=p(regeneratorRuntime.mark(function n(a,r){var i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=t.$data,(!e||void 0==e||e.length<=0)&&(e={limit:i.pageSize,page:i.currPage,address:t.address}),o=[],console.log(t.hashPowerPoolsList,t.poolBtcData),t.hashPowerPoolsList.map(function(e,n){if(e.btcb19ProBalance>0||e.balance>0){o[n]=e,o[n].id=e.id,o[n].total_number=10*Number(e.balance),o[n].total_balance=Number(e.balance);var a=Number(e.balance)*Number(e.daily_income),r=Object(c.f)(Number(e.balance)*(Number(e.daily_income)/Number(t.poolBtcData.currency_price)),10,!0);o[n].yest_income=a,o[n].yest_income_btcb=r;var i=Number(e.btcbReward)+Number(e.harvest_btcb_amount);o[n].total_income_btcb=i;var s=i*Number(t.poolBtcData.currency_price);o[n].total_income_usdt=s,o[n].total_rate=100*Object(c.f)(s/(Number(e.balance)*Number(e.cost_revenue)),10);var u=a/(Number(e.balance)*Number(e.cost_revenue));o[n].year_rate=365*u*100,o[n].is_hash=!0}}),console.log(o),a(o);case 7:case"end":return n.stop()}},n,t)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n,t)}))()},limitPaging:function(e){this.pageSize=e,this.PageSearchWhere.limit&&void 0!==this.PageSearchWhere.limit&&(this.PageSearchWhere.limit=e),this.getMyProductList(this.PageSearchWhere)},skipPaging:function(e){this.currPage=e,this.PageSearchWhere.page&&void 0!==this.PageSearchWhere.page&&(this.PageSearchWhere.page=e),this.getMyProductList(this.PageSearchWhere)},toHashpowerDetail:function(e,t){if(console.log(t),!t.address_h)return this.$notify.error({message:"Failed to get data, please refresh and try again",duration:6e3});var n={hashId:t.hash_id,pId:t.pId,token:t.address_h,currencyToken:t.currencyToken,goblin:t.goblin,decimals:t.decimals_h,name:t.name};sessionStorage.setItem("hashpowerPoolsDetailInfo",JSON.stringify(n)),this.$router.push({path:"/hashpower/detail",query:{type:e}})},receiveBTCBReward:function(e){var t=this;return p(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:console.log("item",e),t.$store.commit("sethashPowerPoolsListClaimLoading",{goblin:e.goblin,val:!0}),t.receiveLoading=!0,Object(s.c)(e.goblin,e.decimals,0,e.pId).then(function(){var n=p(regeneratorRuntime.mark(function n(a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.setHashpowerHarvest(e.id,e.btcbReward,e.currency,a);case 2:n.sent&&(t.$message({type:"success",message:"Success!"}),t.$store.dispatch("getHashPowerPoolsList"),t.receiveLoading=!1);case 4:case"end":return n.stop()}},n,t)}));return function(e){return n.apply(this,arguments)}}()).finally(function(){t.$store.commit("sethashPowerPoolsListClaimLoading",{goblin:e.goblin,val:!1}),t.receiveLoading=!1});case 4:case"end":return n.stop()}},n,t)}))()},setHashpowerHarvest:function(e,t,n,a){var i=this;return p(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new Promise(function(){var o=p(regeneratorRuntime.mark(function o(s,c){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:Object(r.c)(i.nftUrl+"/hashpower/Hashpower/setHashpowerHarvest",{address:i.address,hashId:e,amount:t,hash:a,currency:n},function(e){console.log(e),e&&1e4==e.code?s(!0):s(!1)});case 1:case"end":return o.stop()}},o,i)}));return function(e,t){return o.apply(this,arguments)}}()));case 1:case"end":return o.stop()}},o,i)}))()}},mounted:function(){}}},CtQZ:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,".container[data-v-d8bd7c6a] .el-table{font-size:16px}.container[data-v-d8bd7c6a] .el-descriptions{margin-bottom:20px}.container[data-v-d8bd7c6a] .el-descriptions .el-descriptions__body{padding:20px;border-radius:20px}.container[data-v-d8bd7c6a] .el-descriptions .el-descriptions__body .el-descriptions-item__container .el-descriptions-item__content{display:unset;text-align:right}.container[data-v-d8bd7c6a] .el-descriptions .el-descriptions__body .el-descriptions-item__container .el-descriptions-item__content .operate{text-align:center}.container[data-v-d8bd7c6a] .el-descriptions .el-descriptions__body .el-descriptions-item__container .el-descriptions-item__content .operate button{width:80px}","",{version:3,sources:["/Users/qinlinhui/Sites/WWW/Swanlake/public/SwanlakeWeb/src/views/manageFinances/myFinances.vue"],names:[],mappings:"AACA,sCAAsC,cAAc,CACnD,AACD,6CAA6C,kBAAkB,CAC9D,AACD,oEAAoE,aAAa,kBAAkB,CAClG,AACD,oIAAoI,cAAc,gBAAgB,CACjK,AACD,6IAA6I,iBAAiB,CAC7J,AACD,oJAAoJ,UAAU,CAC7J",file:"myFinances.vue",sourcesContent:["\n.container[data-v-d8bd7c6a] .el-table{font-size:16px\n}\n.container[data-v-d8bd7c6a] .el-descriptions{margin-bottom:20px\n}\n.container[data-v-d8bd7c6a] .el-descriptions .el-descriptions__body{padding:20px;border-radius:20px\n}\n.container[data-v-d8bd7c6a] .el-descriptions .el-descriptions__body .el-descriptions-item__container .el-descriptions-item__content{display:unset;text-align:right\n}\n.container[data-v-d8bd7c6a] .el-descriptions .el-descriptions__body .el-descriptions-item__container .el-descriptions-item__content .operate{text-align:center\n}\n.container[data-v-d8bd7c6a] .el-descriptions .el-descriptions__body .el-descriptions-item__container .el-descriptions-item__content .operate button{width:80px\n}\n"],sourceRoot:""}])},Gu3o:function(e,t,n){var a=n("CtQZ");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("68910659",a,!0,{})},HqR4:function(e,t){e.exports=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_address",type:"address"},{indexed:!1,internalType:"bool",name:"statusBefore",type:"bool"},{indexed:!1,internalType:"bool",name:"status",type:"bool"}],name:"WhitelistUpdate",type:"event"},{inputs:[{internalType:"uint256",name:"_gTokenAmt",type:"uint256"}],name:"BNBTogToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"BNBgTokenRatio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_gTokenAmt",type:"uint256"},{internalType:"address",name:"_BuyToken",type:"address"}],name:"BuyTokenTogToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"BuytokengTokenRatio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"OrderDealNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"OrderDealStatus",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"WithdrawGasValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_gTokenAmt",type:"uint256"},{internalType:"address payable",name:"_to",type:"address"}],name:"gTokenToBNB",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_gTokenAmt",type:"uint256"},{internalType:"address",name:"_BuyToken",type:"address"},{internalType:"uint256",name:"orderId",type:"uint256"}],name:"gTokenToBuyToken",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[],name:"govAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_govAddress",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"recover",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"recoverB",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_Ratio",type:"uint256"}],name:"setBNBgTokenRatio",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_govAddress",type:"address"}],name:"setGov",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_BuyToken",type:"address"},{internalType:"bool",name:"_bSupport",type:"bool"},{internalType:"uint256",name:"_Ratio",type:"uint256"}],name:"setSupportedBuyToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"},{internalType:"bool",name:"status",type:"bool"}],name:"setWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_WithdrawGasValue",type:"uint256"}],name:"setWithdrawGasValue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"supportedBuyToken",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"bool",name:"minus",type:"bool"},{internalType:"uint256",name:"status",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}]},JHeQ:function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"e",function(){return b}),n.d(t,"f",function(){return g}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return v}),n.d(t,"d",function(){return w});var a=n("GKmE"),r=n("yePN"),i=n.n(r),o=n("vPne"),s=n.n(o),c=n("HqR4"),u=n.n(c),l=n("Z6J0"),p=n.n(l),d=n("9jsg"),h=n.n(d),_=n("cx+2");function m(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(r,i){try{var o=t[r](i),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})}}var y=function(e,t,n,r){var o=this,s=__ownInstance__.$store.state.base.address,c=n&&r?web3.utils.toHex(Object(a.i)(n,r)):web3.utils.toHex(Object(a.j)(1.157920892373163*Math.pow(10,59))),u=new web3.eth.Contract(i.a,e),l=t||__ownInstance__.$store.state.base.bankAddress,p=u.methods.approve(l,c).encodeABI(),d=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:d}),new Promise(function(t,n){var a,r=void 0;web3.eth.getTransactionCount(s).then((a=m(regeneratorRuntime.mark(function a(i){var c,u,l,h;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,web3.eth.getGasPrice();case 2:return c=a.sent,u={from:s,to:e,data:p},a.next=6,web3.eth.estimateGas(u);case 6:l=a.sent,h=[{chainId:__ownInstance__.$store.state.base.chainId,nonce:web3.utils.toHex(i),gasLimit:web3.utils.toHex(l),gasPrice:web3.utils.toHex(c),to:e,from:s,data:p}],web3.eth.sendTransaction(h[0]).on("transactionHash",function(e){console.log("hash",e),e&&(r=e)}).on("receipt",function(e){__ownInstance__.$store.dispatch("changeTradeStatus",{id:d,val:1,hash:r}),t(r)}).on("confirmation",function(e,t){}).on("error",function(e){var t=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:d,val:2,isUserDeny:t,hash:r}),console.log("err",e),n(e)});case 9:case"end":return a.stop()}},a,o)})),function(e){return a.apply(this,arguments)}))})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=__ownInstance__.$store.state.base.address,c=__ownInstance__.$store.state.base.gamesFillingAddress,u=new web3.eth.Contract(s.a,c),l=Object(a.i)(e,r),p=u.methods.BuyTokenTogToken(l,t).encodeABI(),d=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:d}),new Promise(function(e,t){var a,r=void 0;web3.eth.getTransactionCount(o).then((a=m(regeneratorRuntime.mark(function a(s){var u,l,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,web3.eth.getGasPrice();case 2:return u=n.sent,n.next=5,web3.eth.estimateGas({from:o,to:c,data:p});case 5:l=n.sent,console.log("estimateGas",l),h=[{from:o,to:c,data:p,gasPrice:web3.utils.toHex(u),gas:web3.utils.toHex(l)}],web3.eth.sendTransaction(h[0]).on("transactionHash",function(){var e=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("hash",t),!t){e.next=6;break}return r=t,i.hash=t,e.next=6,Object(_.l)(i);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).on("receipt",function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:d,val:1,hash:r}),e(r)}).on("confirmation",function(e,t){}).on("error",function(e){var n=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:d,val:2,isUserDeny:n,hash:r}),console.log("err",e),t(e)});case 9:case"end":return n.stop()}},a,n)})),function(e){return a.apply(this,arguments)})).catch(function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:d,val:2,hash:r}),t(e)})})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=__ownInstance__.$store.state.base.address,c=__ownInstance__.$store.state.base.gamesFillingAddress,l=Object(a.i)(e,n),p=new web3.eth.Contract(u.a,c).methods.gTokenToBuyToken(l,t,o).encodeABI(),d=Object(a.i)("0",n),h=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:h}),new Promise(function(e,t){var n,a=void 0;web3.eth.getTransactionCount(s).then((n=m(regeneratorRuntime.mark(function n(o){var u,l,y;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,web3.eth.getGasPrice();case 2:return u=n.sent,n.next=5,web3.eth.estimateGas({from:s,to:c,data:p,value:web3.utils.toHex(d)});case 5:l=n.sent,console.log("estimateGas",l),(y=[{from:s,to:c,data:p,gasPrice:web3.utils.toHex(u),gas:web3.utils.toHex(l)}])[0].value=web3.utils.toHex(d),web3.eth.sendTransaction(y[0]).on("transactionHash",function(){var e=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("hash",t),!t){e.next=6;break}return a=t,i.hash=t,e.next=6,Object(_.l)(i);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).on("receipt",function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:h,val:1,hash:a}),e(a)}).on("confirmation",function(e,t){}).on("error",function(e){var n=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:h,val:2,isUserDeny:n,hash:a}),console.log("err",e),t(e)});case 10:case"end":return n.stop()}},n,r)})),function(e){return n.apply(this,arguments)})).catch(function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:h,val:2,hash:a}),t(e)})})},f=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,r=__ownInstance__.$store.state.base.address,i=__ownInstance__.$store.state.base.hashpowerAddress,o=new web3.eth.Contract(p.a,i),s=Object(a.i)(t,n),c=o.methods.BuyTokenToS19(s).encodeABI(),u=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:u}),new Promise(function(t,n){var a,o=void 0;web3.eth.getTransactionCount(r).then((a=m(regeneratorRuntime.mark(function a(s){var l,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,web3.eth.getGasPrice();case 2:return l=e.sent,e.next=5,web3.eth.estimateGas({from:r,to:i,data:c});case 5:p=e.sent,console.log("estimateGas",p),d=[{from:r,to:i,data:c,gasPrice:web3.utils.toHex(l),gas:web3.utils.toHex(p)}],web3.eth.sendTransaction(d[0]).on("transactionHash",function(e){console.log("hash",e),e&&(o=e)}).on("receipt",function(e){__ownInstance__.$store.dispatch("changeTradeStatus",{id:u,val:1,hash:o}),t(o)}).on("confirmation",function(e,t){}).on("error",function(e){var t=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:u,val:2,isUserDeny:t,hash:o}),console.log("err",e),n(e)});case 9:case"end":return e.stop()}},a,e)})),function(e){return a.apply(this,arguments)})).catch(function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:u,val:2,hash:o}),n(e)})})},v=function(e,t,n){var r=this;console.log("amount",n);var i=__ownInstance__.$store.state.base.address,o=e,s=new web3.eth.Contract(h.a,o),c=Object(a.i)(n,t),u=web3.utils.toHex(c),l=s.methods.deposit(u).encodeABI(),p=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:p}),new Promise(function(e,t){var n,a=void 0;web3.eth.getTransactionCount(i).then((n=m(regeneratorRuntime.mark(function n(s){var c,u,d,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,web3.eth.getGasPrice();case 2:return c=n.sent,u={from:i,to:o,data:l},n.t0=parseInt,n.next=7,web3.eth.estimateGas(u);case 7:n.t1=n.sent,n.t2=1.4*n.t1,d=(0,n.t0)(n.t2),console.log("estimateGas",d),h=[{from:i,to:o,data:l,gasPrice:web3.utils.toHex(c),gas:web3.utils.toHex(d)}],web3.eth.sendTransaction(h[0]).on("transactionHash",function(e){console.log("hash",e),e&&(a=e)}).on("receipt",function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:p,val:1,hash:a}),e(a)}).on("confirmation",function(e,t){}).on("error",function(e){var n=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:p,val:2,isUserDeny:n,hash:a}),console.log("err",e),t(e)});case 13:case"end":return n.stop()}},n,r)})),function(e){return n.apply(this,arguments)})).catch(function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:p,val:2,hash:a}),t(e)})})},w=function(e,t,n){var r=this;console.log("depositPoolsOut",n);var i=__ownInstance__.$store.state.base.address,o=e,s=new web3.eth.Contract(h.a,o),c=Object(a.i)(n,t),u=s.methods.withdraw(web3.utils.toHex(c)).encodeABI(),l=(new Date).getTime().toString();return __ownInstance__.$store.dispatch("createOrderForm",{val:0,id:l}),new Promise(function(e,t){var n,a=void 0;web3.eth.getTransactionCount(i).then((n=m(regeneratorRuntime.mark(function n(s){var c,p,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,web3.eth.getGasPrice();case 2:return c=n.sent,n.t0=parseInt,n.next=6,web3.eth.estimateGas({from:i,to:o,data:u});case 6:n.t1=n.sent,n.t2=1.4*n.t1,p=(0,n.t0)(n.t2),console.log("estimateGas",p),d=[{from:i,to:o,data:u,gasPrice:web3.utils.toHex(c),gas:web3.utils.toHex(p)}],web3.eth.sendTransaction(d[0]).on("transactionHash",function(e){console.log("hash",e),e&&(a=e)}).on("receipt",function(t){__ownInstance__.$store.dispatch("changeTradeStatus",{id:l,val:1,hash:a}),e(a)}).on("confirmation",function(e,t){}).on("error",function(e){var n=4001===e.code;__ownInstance__.$store.dispatch("changeTradeStatus",{id:l,val:2,isUserDeny:n,hash:a}),console.log("err",e),t(e)});case 12:case"end":return n.stop()}},n,r)})),function(e){return n.apply(this,arguments)})).catch(function(e){console.log("receiveAirdrop_err",e),__ownInstance__.$store.dispatch("changeTradeStatus",{id:l,val:2,hash:a}),t(e)})})}},KtiI:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,".pagination[data-v-78361482]{float:right}.pagination[data-v-78361482] .el-pagination__jump,.pagination[data-v-78361482] .el-pagination__total,[data-theme=light] .pagination[data-v-78361482] .el-pagination__jump,[data-theme=light] .pagination[data-v-78361482] .el-pagination__total{color:#1c1c1b}[data-theme=dark] .pagination[data-v-78361482] .el-pagination__jump,[data-theme=dark] .pagination[data-v-78361482] .el-pagination__total{color:#fff}.pagination[data-v-78361482] .el-input__inner{background-color:#333;color:#1c1c1b}[data-theme=light] .pagination[data-v-78361482] .el-input__inner{background-color:#fff}[data-theme=dark] .pagination[data-v-78361482] .el-input__inner{background-color:#333}[data-theme=light] .pagination[data-v-78361482] .el-input__inner{color:#1c1c1b}[data-theme=dark] .pagination[data-v-78361482] .el-input__inner{color:#fff}","",{version:3,sources:["/Users/qinlinhui/Sites/WWW/Swanlake/public/SwanlakeWeb/src/components/Page.vue"],names:[],mappings:"AACA,6BAA6B,WAAW,CACvC,AAGD,gPAA+I,aAAa,CAC3J,AACD,yIAA6I,UAAU,CACtJ,AACD,8CAA8C,sBAAsB,aAAa,CAChF,AACD,iEAAmE,qBAAqB,CACvF,AACD,gEAAkE,qBAAqB,CACtF,AACD,iEAAmE,aAAa,CAC/E,AACD,gEAAkE,UAAU,CAC3E",file:"Page.vue",sourcesContent:['\n.pagination[data-v-78361482]{float:right\n}\n.pagination[data-v-78361482] .el-pagination__total,.pagination[data-v-78361482] .el-pagination__jump{color:#1C1C1B\n}\n[data-theme="light"] .pagination[data-v-78361482] .el-pagination__total,[data-theme="light"] .pagination[data-v-78361482] .el-pagination__jump{color:#1C1C1B\n}\n[data-theme="dark"] .pagination[data-v-78361482] .el-pagination__total,[data-theme="dark"] .pagination[data-v-78361482] .el-pagination__jump{color:#fff\n}\n.pagination[data-v-78361482] .el-input__inner{background-color:#333;color:#1C1C1B\n}\n[data-theme="light"] .pagination[data-v-78361482] .el-input__inner{background-color:#fff\n}\n[data-theme="dark"] .pagination[data-v-78361482] .el-input__inner{background-color:#333\n}\n[data-theme="light"] .pagination[data-v-78361482] .el-input__inner{color:#1C1C1B\n}\n[data-theme="dark"] .pagination[data-v-78361482] .el-input__inner{color:#fff\n}\n'],sourceRoot:""}])},"PY+K":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("C7Db"),r=n("QCDo");var i=function(e){n("Gu3o")},o=n("VU/8")(a.a,r.a,!1,i,"data-v-d8bd7c6a",null);t.default=o.exports},QCDo:function(e,t,n){"use strict";var a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.isMobel?n("div",e._l(e.tableData,function(t,a){return n("el-descriptions",{key:a,attrs:{colon:!1,border:!1,column:1,title:""}},[n("el-descriptions-item",{attrs:{label:"产品名称"}},[e._v(e._s(t.name))]),e._v(" "),n("el-descriptions-item",{attrs:{label:"总结余"}},[e._v(e._s(e.toFixed(t.total_balance||0,4))+" "+e._s("BTCB"===t.currency?"T":t.currency))]),e._v(" "),n("el-descriptions-item",{attrs:{label:"购买份数"}},[e._v(e._s(e.toFixed(t.total_number||0,2)))]),e._v(" "),n("el-descriptions-item",{attrs:{label:"净值"}},[e._v(e._s(e.keepDecimalNotRounding(t.networth||0,4)))]),e._v(" "),n("el-descriptions-item",{attrs:{label:"昨日收益"}},[t.is_hash?n("span",[e._v("\n                            "+e._s(t.yest_income?e.toFixed(t.yest_income||0,6):0)+" USDT "),n("br"),e._v("\n                            "+e._s(t.yest_income_btcb?e.toFixed(t.yest_income_btcb||0,10):0)+" BTC\n                        ")]):n("span",[e._v(e._s(e.toFixed(t.yest_income||0,2))+" "+e._s(t.currency))])]),e._v(" "),n("el-descriptions-item",{attrs:{label:"总收益"}},[t.is_hash?n("span",[e._v("\n                            "+e._s(t.total_income_usdt?e.toFixed(t.total_income_usdt||0,6):0)+" USDT "),n("br"),e._v("\n                            "+e._s(t.total_income_btcb?e.toFixed(t.total_income_btcb||0,10):0)+" BTC\n                        ")]):n("span",[e._v(e._s(e.toFixed(t.total_income||0,2))+" "+e._s(t.currency))])]),e._v(" "),n("el-descriptions-item",{attrs:{label:"总收益率"}},[e._v(e._s(e.toFixed(t.total_rate||0,2))+"%")]),e._v(" "),n("el-descriptions-item",{attrs:{label:"年化收益率"}},[e._v(e._s(e.toFixed(t.year_rate||0,2))+"%")]),e._v(" "),n("el-descriptions-item",[n("div",{staticClass:"operate"},[t.is_hash?n("div",[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.HashpowerBuyClick(t,1)}}},[e._v("购买")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary",loading:e.receiveLoading,disabled:!Number(t.btcbReward)},on:{click:function(n){return e.receiveBTCBReward(t)}}},[e._v("收获"+e._s(t.currency))]),e._v(" "),n("br"),n("br"),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.toHashpowerDetail(1,t)}}},[e._v("存入")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.toHashpowerDetail(2,t)}}},[e._v("提取")])],1):n("div",[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.buyClick(t,1)}}},[e._v("购买")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.buyClick(t,2)}}},[e._v("赎回")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.incomeClick(t)}}},[e._v("历史净值")])],1)])])],1)}),1):n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[n("el-table-column",{attrs:{prop:"name",label:"产品名称",align:"center",width:"130"}}),e._v(" "),n("el-table-column",{attrs:{prop:"total_balance",label:"总结余",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_hash?n("span",[e._v("钱包余额: "+e._s(t.row.btcb19ProBalance>0?e.toFixed(t.row.btcb19ProBalance||0,4):0)+" T")]):e._e(),e._v(" "),n("br"),e._v(" "),n("span",[e._v("已质押："+e._s(e.toFixed(t.row.total_balance||0,4))+" "+e._s("BTCB"===t.row.currency?"T":t.row.currency))])]}}],null,!1,356645570)}),e._v(" "),n("el-table-column",{attrs:{prop:"total_number",label:"购买份数",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.toFixed(t.row.total_number||0,2)))])]}}],null,!1,1198394426)}),e._v(" "),n("el-table-column",{attrs:{prop:"networth",label:"净值",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.keepDecimalNotRounding(t.row.networth||0,4)))])]}}],null,!1,655406145)}),e._v(" "),n("el-table-column",{attrs:{prop:"yest_income",label:"昨日收益",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_hash?n("span",[e._v("\n                            "+e._s(t.row.yest_income?e.toFixed(t.row.yest_income||0,6):0)+" USDT "),n("br"),e._v("\n                            "+e._s(t.row.yest_income_btcb?e.toFixed(t.row.yest_income_btcb||0,10):0)+" BTC\n                        ")]):n("span",[e._v(e._s(e.toFixed(t.row.yest_income||0,2))+" "+e._s(t.row.currency))])]}}],null,!1,2866625546)}),e._v(" "),n("el-table-column",{attrs:{prop:"total_income",label:"总收益",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_hash?n("span",[e._v("\n                            "+e._s(t.row.total_income_usdt?e.toFixed(t.row.total_income_usdt||0,6):0)+" USDT "),n("br"),e._v("\n                            "+e._s(t.row.total_income_btcb?e.toFixed(t.row.total_income_btcb||0,10):0)+" BTC\n                        ")]):n("span",[e._v(e._s(e.toFixed(t.row.total_income||0,2))+" "+e._s(t.row.currency))])]}}],null,!1,2389651411)}),e._v(" "),n("el-table-column",{attrs:{prop:"total_rate",label:"总收益率",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.toFixed(t.row.total_rate||0,2))+"%")])]}}],null,!1,2234526005)}),e._v(" "),n("el-table-column",{attrs:{prop:"year_rate",label:"年化收益率",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.toFixed(t.row.year_rate||0,2))+"%")])]}}],null,!1,1928916312)}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_hash?n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.HashpowerBuyClick(t.row,1)}}},[e._v("购买")]),e._v(" "),n("el-button",{attrs:{type:"text",loading:e.receiveLoading,disabled:!Number(t.row.btcbReward)},on:{click:function(n){return e.receiveBTCBReward(t.row)}}},[e._v("收获"+e._s(t.row.currency))]),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.toHashpowerDetail(1,t.row)}}},[e._v("存入")]),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.toHashpowerDetail(2,t.row)}}},[e._v("提取")])],1):n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.buyClick(t.row,1)}}},[e._v("购买")]),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.buyClick(t.row,2)}}},[e._v("赎回")]),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.incomeClick(t.row)}}},[e._v("历史净值")])],1)]}}],null,!1,2340753990)})],1),e._v(" "),e.total>e.pageSize?n("el-row",{staticClass:"pages"},[n("el-col",{attrs:{span:24}},[n("div",{staticStyle:{float:"right"}},[n("wbc-page",{attrs:{total:e.total,pageSize:e.pageSize,currPage:e.currPage},on:{changeLimit:e.limitPaging,changeSkip:e.skipPaging}})],1)])],1):e._e()],1)])},staticRenderFns:[]};t.a=a},X9cT:function(e,t,n){var a=n("KtiI");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("e828d3c2",a,!0,{})},Xv9D:function(e,t,n){"use strict";var a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("nav",[t("div",{staticClass:"grid-content"},[t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"current-page":this.currPage,"page-sizes":[10,20,30,50,100],"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],1)])])},staticRenderFns:[]};t.a=a},Z6J0:function(e,t){e.exports=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"BNBS19Ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_S19Amt",type:"uint256"}],name:"BNBToS19",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"BuyToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_S19Amt",type:"uint256"}],name:"BuyTokenToS19",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"S19",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"US19Ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"recover",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"recoverB",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_Ratio",type:"uint256"}],name:"setBNBS19Ratioo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_Ratio",type:"uint256"}],name:"setBuyTokenToS19Ratio",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_BuyToken",type:"address"}],name:"setBuyTokenToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_S19",type:"address"}],name:"setS19Token",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},pMNZ:function(e,t,n){"use strict";var a=n("AO5d"),r=n("Xv9D");var i=function(e){n("X9cT")},o=n("VU/8")(a.a,r.a,!1,i,"data-v-78361482",null);t.a=o.exports}});