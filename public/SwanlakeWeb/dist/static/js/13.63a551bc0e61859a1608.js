webpackJsonp([13],{ATLN:function(e,t,n){"use strict";var a=n("NYxO"),r=n("+zHA"),o=(n("GKmE"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e});t.a={name:"",data:function(){return{product_id:1,date:"",count_balance:0,yest_count_balance:0,count_buy_number:0,today_net_worth:1,yest_net_worth:1,newDaynetworth:0,is_networth:!1,ruleForm:{profit:"",channel_fee:"",management_fee:""},rules:{profit:[{required:!0,message:"请输入利润值",trigger:"input"}],channel_fee:[{required:!0,message:"请输入渠道费",trigger:"input"}],management_fee:[{required:!0,message:"请输入管理费",trigger:"input"}]}}},computed:o({},Object(a.c)({address:function(e){return e.base.address},isConnected:function(e){return e.base.isConnected},isMobel:function(e){return e.comps.isMobel},mainTheme:function(e){return e.comps.mainTheme},apiUrl:function(e){return e.base.apiUrl}})),created:function(){},watch:{},components:{},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Object(r.c)(t.apiUrl+"/Api/Product/saveDayNetworth",{profit:t.ruleForm.profit,channel_fee:t.ruleForm.channel_fee,management_fee:t.ruleForm.management_fee,address:t.address,product_id:t.product_id},function(e){1e4==e.code?(t.$message.success("更新成功"),t.getDayAmount()):t.$message.error("加载数据失败")})})},resetForm:function(e){this.$refs[e].resetFields()},getDayAmount:function(){var e=this;Object(r.b)(this.apiUrl+"/Api/Product/getNewsBuyAmount",{product_id:this.product_id},function(t){1e4==t.code?(e.date=t.data.date,e.count_balance=t.data.count_balance,e.yest_count_balance=t.data.yest_count_balance,e.count_buy_number=t.data.count_buy_number,e.today_net_worth=t.data.today_net_worth,e.yest_net_worth=t.data.yest_net_worth,e.is_networth=t.data.is_networth):e.$message.error("加载数据失败")})},calcNewsNetWorthBlur:function(e){var t=e.target.value;this.calcNewsNetWorth(t)},calcNewsNetWorth:function(e){var t=this;this.ruleForm.channel_fee="",this.ruleForm.management_fee="",e&&0!==e?(this.ruleForm.channel_fee=e/2,this.ruleForm.management_fee=e/2,Object(r.b)(this.apiUrl+"/Api/Product/calcNewsNetWorth",{address:this.address,profit:e},function(e){1e4==e.code?t.newDaynetworth=e.data:console.log(e.msg)})):this.newDaynetworth=0}},mounted:function(){this.getDayAmount()}}},JKff:function(e,t,n){var a=n("fkQ7");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("543454b7",a,!0,{})},e8Wx:function(e,t,n){"use strict";var a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"main"},[n("el-descriptions",{attrs:{column:e.isMobel?1:3,title:e.date}},[n("el-descriptions-item",{attrs:{label:"总结余"}},[e._v(e._s(e.toFixed(e.is_networth?e.count_balance:e.yest_count_balance,4))+" USDT")]),e._v(" "),n("el-descriptions-item",{attrs:{label:"总的份数"}},[e._v(e._s(e.toFixed(e.count_buy_number||0,4)))]),e._v(" "),n("el-descriptions-item",{attrs:{label:"当前净值"}},[e._v(e._s(e.keepDecimalNotRounding(e.today_net_worth>0?e.today_net_worth:e.yest_net_worth||0,4)))])],1),e._v(" "),n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"今日利润",prop:"profit"}},[n("el-input",{attrs:{placeholder:"请输入今日利润"},on:{input:e.calcNewsNetWorth,blur:e.calcNewsNetWorthBlur},model:{value:e.ruleForm.profit,callback:function(t){e.$set(e.ruleForm,"profit",t)},expression:"ruleForm.profit"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"渠道费",prop:"channel_fee"}},[n("el-input",{attrs:{placeholder:"请输入渠道费"},model:{value:e.ruleForm.channel_fee,callback:function(t){e.$set(e.ruleForm,"channel_fee",t)},expression:"ruleForm.channel_fee"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"管理费",prop:"management_fee"}},[n("el-input",{attrs:{placeholder:"请输入管理费"},model:{value:e.ruleForm.management_fee,callback:function(t){e.$set(e.ruleForm,"management_fee",t)},expression:"ruleForm.management_fee"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"更新后净值","label-width":"100px"}},[n("span",[e._v(e._s(e.keepDecimalNotRounding(e.newDaynetworth||0,4)))])]),e._v(" "),n("el-form-item",{staticClass:"submit",attrs:{align:"center"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("更新")])],1)],1)],1)])},staticRenderFns:[]};t.a=a},fkQ7:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,".container[data-v-15dd7a4b] .main{background-color:#fff;padding:30px}.container[data-v-15dd7a4b] .main .el-descriptions .el-descriptions__body{margin:0 auto}.container[data-v-15dd7a4b] .main .el-descriptions .el-descriptions__body .el-descriptions__table{table-layout:auto}.container[data-v-15dd7a4b] .main .submit .el-form-item__content{margin-left:0!important}.container[data-v-15dd7a4b] .main .submit button{width:120px}","",{version:3,sources:["/Users/qinlinhui/Sites/WWW/Swanlake/public/SwanlakeWeb/src/views/dayNetworth/index.vue"],names:[],mappings:"AACA,kCAAkC,sBAAsB,YAAY,CACnE,AACD,0EAA0E,aAAa,CACtF,AACD,kGAAkG,iBAAiB,CAClH,AACD,iEAAiE,uBAAwB,CACxF,AACD,iDAAiD,WAAW,CAC3D",file:"index.vue",sourcesContent:["\n.container[data-v-15dd7a4b] .main{background-color:#fff;padding:30px\n}\n.container[data-v-15dd7a4b] .main .el-descriptions .el-descriptions__body{margin:0 auto\n}\n.container[data-v-15dd7a4b] .main .el-descriptions .el-descriptions__body .el-descriptions__table{table-layout:auto\n}\n.container[data-v-15dd7a4b] .main .submit .el-form-item__content{margin-left:0 !important\n}\n.container[data-v-15dd7a4b] .main .submit button{width:120px\n}\n"],sourceRoot:""}])},fxwm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("ATLN"),r=n("e8Wx");var o=function(e){n("JKff")},i=n("VU/8")(a.a,r.a,!1,o,"data-v-15dd7a4b",null);t.default=i.exports}});